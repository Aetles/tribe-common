!function(e,t){"use strict";e(document).ready(function(){e(".tribe-bumpdown-trigger").bumpdown()}),e.fn.bumpdown=function(){var n=e(document),r={ID:"tribe-bumpdown-",data_trigger:function(e){return'[data-trigger="'+e+'"]'},bumpdown:".tribe-bumpdown",trigger:".tribe-bumpdown-trigger",close:".tribe-bumpdown-close",permanent:".tribe-bumpdown-permanent",active:".tribe-active"},o={open:function(e){var t,n=e.data("bumpdown");e.is(":visible")||(n.$trigger.addClass(r.active.replace(".","")),t=n.$trigger.position().left-("block"===n.type?n.$parent.offset().left:0),e.prepend('<a class="tribe-bumpdown-close" title="Close"><i class="dashicons dashicons-no"></i></a>'),e.prepend('<span class="tribe-bumpdown-arrow" style="left: '+t+'px;"></span>'),e.data("preventClose",!0),e.slideDown("fast",function(){e.data("preventClose",!1)}))},close:function(t){var n=t.data("bumpdown");t.is(":visible")&&!t.data("preventClose")&&(e(this).removeData("is_hoverintent_queued"),t.find(".tribe-bumpdown-close, .tribe-bumpdown-arrow").remove(),t.slideUp("fast"),n.$trigger.removeClass(r.active.replace(".","")))}};return n.hoverIntent({over:function(){var t=e(this).data("bumpdown");t.$trigger.data("is_hoverintent_queued",!1),t.$bumpdown.trigger("open.bumpdown")},out:function(){},selector:r.trigger,interval:200}).on({mouseenter:function(){void 0===e(this).data("is_hoverintent_queued")&&e(this).data("is_hoverintent_queued",!0)},click:function(t){var n=e(this).data("bumpdown");if(t.preventDefault(),t.stopPropagation(),n.$bumpdown.is(":visible")){if(n.$trigger.data("is_hoverintent_queued"))return n.$trigger.data("is_hoverintent_queued",!1);n.$bumpdown.trigger("close.bumpdown")}else n.$bumpdown.trigger("open.bumpdown")},"open.bumpdown":function(){o.open(e(this))},"close.bumpdown":function(){o.close(e(this))}},r.trigger).on({click:function(t){var n=e(this).parents(r.bumpdown).first().data("bumpdown");t.preventDefault(),t.stopPropagation(),"undefined"!=typeof n.$bumpdown&&n.$bumpdown.trigger("close.bumpdown")}},r.close).on("click",function(t){var n=e(t.target),o=n.is(r.bumpdown)||0!==n.parents(r.bumpdown).length;o||e(r.trigger).not(r.permanent).trigger("close.bumpdown")}).on({"open.bumpdown":function(){o.open(e(this))},"close.bumpdown":function(){o.close(e(this))}},r.bumpdown),this.each(function(){var n={$trigger:e(this),$parent:null,$bumpdown:null,ID:null,html:null,type:"block",is_permanent:!1};if(n.ID=n.$trigger.attr("id"),n.ID||(n.ID=t.uniqueId(r.ID),n.$trigger.attr("id",n.ID)),n.html=n.$trigger.data("bumpdown"),n.is_permanent=n.$trigger.is(r.permanent),n.$parent=n.$trigger.parents().filter(function(){return e.inArray(e(this).css("display"),["block","table","table-cell","table-row"])}).first(),n.html)if(n.type=n.$parent.is("td, tr, td, table")?"table":"block","table"===n.type){n.$bumpdown=e("<td>").attr({colspan:2}).addClass("tribe-bumpdown-cell").html(n.html);var i=e("<tr>").append(n.$bumpdown).addClass("tribe-bumpdown-row");n.$parent=n.$trigger.parents("tr").first(),n.$parent.after(i)}else n.$bumpdown=e("<div>").addClass("tribe-bumpdown-block").html(n.html),n.$trigger.after(n.$bumpdown);else n.$bumpdown=e(r.data_trigger(n.ID)),n.type="block";if(n.$trigger.data("bumpdown",n).addClass(r.trigger.replace(".","")),n.$bumpdown.data("bumpdown",n).addClass(r.bumpdown.replace(".","")),n.$trigger.data("depends")){var a=n.$trigger.data("depends");e(document).on("change",a,function(){o.close(n.$bumpdown)})}})}}(jQuery,_);