jQuery(document).ready(function(b){function d(){var a=b(".tribe-mini-calendar-wrapper");if(b(".tribe-mini-calendar-wrapper.layout-wide").length&&b(".tribe-mini-calendar-right").length){var c=b(".tribe-mini-calendar-right"),e=a.height(),c=c.outerHeight(),c=c+20;c>e?a.css("height",c+"px"):a.css("height","auto")}else b(".tribe-mini-calendar-wrapper.layout-wide").length&&a.css("height","auto")}function g(a){b(".tribe-mini-calendar .tribe-events-thismonth").removeClass("tribe-mini-calendar-today");a.parents(".tribe-events-has-events").addClass("tribe-mini-calendar-today")}
d();b(".tribe-mini-calendar-wrapper").delegate(".tribe-mini-calendar-nav-link","click",function(a){a.preventDefault();a=b(this);var c=a.closest(".tribe-mini-calendar");a={action:"tribe-mini-cal",eventDate:a.attr("data-month"),count:c.data("count"),tax_query:c.data("tax-query"),nonce:c.data("nonce")};b(".tribe-mini-calendar-nav div > span").addClass("active").siblings("#ajax-loading-mini").show();b.post(TribeMiniCalendar.ajaxurl,a,function(a){b(".tribe-mini-calendar-list-wrapper").remove();a.success&&
(a=b(a.html).contents().filter(function(){return 3!=this.nodeType}),b(".tribe-mini-calendar-nav div > span").removeClass("active").siblings("#ajax-loading-mini").hide(),b(".tribe-mini-calendar-wrapper").empty().html(a),d())})});b(".tribe-mini-calendar-wrapper").delegate(".tribe-mini-calendar-day-link","click",function(a){a.preventDefault();var c=b(this);a=c.attr("data-day");var e=c.text(),f=b(this).closest(".tribe-mini-calendar");b("h2.tribe-mini-calendar-title").text(b("#tribe-mini-calendar-month-name").val()+
" "+e+" Events");g(c);a={action:"tribe-mini-cal-day",eventDate:a,count:f.data("count"),tax_query:f.data("tax-query"),nonce:f.data("nonce")};b(".tribe-mini-calendar-nav div > span").addClass("active").siblings("#ajax-loading-mini").show();b.post(TribeMiniCalendar.ajaxurl,a,function(a){a.success&&(b(".tribe-mini-calendar-nav div > span").removeClass("active").siblings("#ajax-loading-mini").hide(),b(".tribe-mini-calendar-list-wrapper").html(a.html),g(c),d())})})});
